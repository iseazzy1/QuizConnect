<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Connect - Cadastro</title>
    <link rel="stylesheet" href="cadastro.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Estilos para o bot√£o de acessibilidade */
        .accessibility-container {
          position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
            left: 460px
        }

        .accessibility-btn {
            background: linear-gradient(135deg, #007bff, #0056b3);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .accessibility-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 123, 255, 0.4);
        }

        .accessibility-btn.active {
            background: linear-gradient(135deg, #28a745, #1e7e34);
            animation: pulse 1.5s infinite;
        }

        .accessibility-btn.paused {
            background: linear-gradient(135deg, #ffc107, #e0a800);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(40, 167, 69, 0); }
            100% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0); }
        }

        .accessibility-controls {
            position: absolute;
            top: 60px;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 15px;
            display: none;
            flex-direction: column;
            gap: 10px;
            min-width: 200px;
            z-index: 1000;
        }

        .accessibility-controls.show {
            display: flex;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-group label {
            font-size: 12px;
            color: #666;
            min-width: 70px;
        }

        .control-slider {
            flex: 1;
            height: 4px;
            border-radius: 2px;
            background: #ddd;
            outline: none;
        }

        .control-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #007bff;
            cursor: pointer;
        }

        .control-btn {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 5px 10px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .control-btn:hover {
            background: #e9ecef;
        }

        .control-btn.active {
            background: #007bff;
            color: white;
        }

        /* Highlight para texto sendo lido */
        .reading-highlight {
            background-color: #fff3cd !important;
            border: 2px solid #ffc107 !important;
            border-radius: 3px !important;
            transition: all 0.3s ease !important;
        }

        /* Tooltip */
        .accessibility-btn::before {
            content: 'Clique para ativar leitura de tela';
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .accessibility-btn:hover::before {
            opacity: 1;
        }

        /* Responsivo */
        @media (max-width: 768px) {
            .accessibility-controls {
                right: -100px;
                min-width: 180px;
            }
        }
    </style>
</head>
<body>
    <!-- Nuvens Decorativas -->
    <div class="cloud cloud1"></div>
    <div class="cloud cloud2"></div>
    <div class="cloud cloud3"></div>

    <!-- Header -->
    <header>
        <div class="logo">Quiz Connect</div>
        <nav>
            <ul>
                <li><a href="inicial.html">Turma</a></li>
                <li><a href="cadastro.html">3DS</a></li>
            </ul>
        </nav>
        
        <!-- Container com logo SESI e bot√£o de acessibilidade -->
        <div class="accessibility-container">
            <img src="sesi-logo.png" alt="SESI Logo" class="sesi-logo">
            
            <!-- Bot√£o de Acessibilidade -->
            <div style="position: relative;">
                <button class="accessibility-btn" id="accessibilityBtn" title="Ativar/Desativar Leitura de Tela">
                    üîä
                </button>
                
                <!-- Controles de Acessibilidade -->
                <div class="accessibility-controls" id="accessibilityControls">
                    <div class="control-group">
                        <label>Velocidade:</label>
                        <input type="range" class="control-slider" id="speedControl" min="0.5" max="2" step="0.1" value="1">
                        <span id="speedValue">1x</span>
                    </div>
                    
                    <div class="control-group">
                        <label>Volume:</label>
                        <input type="range" class="control-slider" id="volumeControl" min="0" max="1" step="0.1" value="1">
                        <span id="volumeValue">100%</span>
                    </div>
                    
                    <div class="control-group">
                        <button class="control-btn" id="pauseBtn">‚è∏Ô∏è Pausar</button>
                        <button class="control-btn" id="stopBtn">‚èπÔ∏è Parar</button>
                        <button class="control-btn" id="skipBtn">‚è≠Ô∏è Pular</button>
                    </div>
                </div>
            </div>
        </div>
        
        <button class="login-btn" title="Login">
            <img src="logo.png" alt="√çcone de Login">
        </button>
    </header>
    
    <!-- Menu Mobile -->
    <nav class="mobile-nav">
        <ul>
            <li><a href="inicial.html">In√≠cio</a></li>
            <li><a href="cadastro.html">Cadastro</a></li>
        </ul>
    </nav>
    
    <!-- Rob√¥ Animado -->
    <img src="dino.png" alt="Robot" class="robo2">
    
    <!-- Formul√°rio de Cadastro -->
    <section class="signup-container">
        <h2>Criar Conta</h2>
        <form id="signupForm">
            <div class="input-group">
                <input type="email" id="email" placeholder="E-mail" class="input-box" required>
                <span class="input-focus-effect"></span>
            </div>
            <div class="input-group">
                <input type="text" id="username" placeholder="Nome de usu√°rio" class="input-box" required>
                <span class="input-focus-effect"></span>
            </div>
            <div class="input-group">
                <input type="password" id="password" placeholder="Senha" class="input-box" required>
                <span class="input-focus-effect"></span>
                <button type="button" id="togglePassword" class="toggle-password">
                    <i class="eye-icon"></i>
                </button>
            </div>
            <div class="input-group">
                <input type="password" id="confirm-password" placeholder="Confirmar senha" class="input-box" required>
                <span class="input-focus-effect"></span>
                <button type="button" id="toggleConfirmPassword" class="toggle-password">
                    <i class="eye-icon"></i>
                </button>
            </div>
            <button type="submit" class="signup-button">
                <span>Cadastrar</span>
                <div class="signup-button-effect"></div>
            </button>
        </form>
        <div class="login-link">
            J√° tem uma conta? <a href="index.html">Fa√ßa login</a>
        </div>
    </section>
    
    <script>
    // Classe para gerenciar a acessibilidade de leitura de tela
    class ScreenReader {
        constructor() {
            this.synth = window.speechSynthesis;
            this.isReading = false;
            this.isPaused = false;
            this.currentUtterance = null;
            this.queue = [];
            this.currentIndex = 0;
            this.speed = 1;
            this.volume = 1;
            this.voice = null;
            
            this.initializeVoices();
            this.bindEvents();
        }
        
        initializeVoices() {
            // Aguarda as vozes carregarem
            const setVoice = () => {
                const voices = this.synth.getVoices();
                // Tenta encontrar uma voz em portugu√™s
                this.voice = voices.find(voice => 
                    voice.lang.startsWith('pt') || 
                    voice.name.toLowerCase().includes('portuguese')
                ) || voices[0];
            };
            
            if (this.synth.getVoices().length > 0) {
                setVoice();
            } else {
                this.synth.addEventListener('voiceschanged', setVoice);
            }
        }
        
        bindEvents() {
            const btn = document.getElementById('accessibilityBtn');
            const controls = document.getElementById('accessibilityControls');
            const speedControl = document.getElementById('speedControl');
            const volumeControl = document.getElementById('volumeControl');
            const speedValue = document.getElementById('speedValue');
            const volumeValue = document.getElementById('volumeValue');
            const pauseBtn = document.getElementById('pauseBtn');
            const stopBtn = document.getElementById('stopBtn');
            const skipBtn = document.getElementById('skipBtn');
            
            // Bot√£o principal
            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                this.toggleReading();
            });
            
            // Mostrar/esconder controles
            btn.addEventListener('mouseenter', () => {
                if (this.isReading) {
                    controls.classList.add('show');
                }
            });
            
            controls.addEventListener('mouseleave', () => {
                setTimeout(() => {
                    if (!controls.matches(':hover')) {
                        controls.classList.remove('show');
                    }
                }, 300);
            });
            
            // Controles de velocidade e volume
            speedControl.addEventListener('input', (e) => {
                this.speed = parseFloat(e.target.value);
                speedValue.textContent = this.speed + 'x';
                if (this.currentUtterance) {
                    this.currentUtterance.rate = this.speed;
                }
            });
            
            volumeControl.addEventListener('input', (e) => {
                this.volume = parseFloat(e.target.value);
                volumeValue.textContent = Math.round(this.volume * 100) + '%';
                if (this.currentUtterance) {
                    this.currentUtterance.volume = this.volume;
                }
            });
            
            // Bot√µes de controle
            pauseBtn.addEventListener('click', () => this.togglePause());
            stopBtn.addEventListener('click', () => this.stopReading());
            skipBtn.addEventListener('click', () => this.skipCurrent());
            
            // Fechar controles ao clicar fora
            document.addEventListener('click', (e) => {
                if (!btn.contains(e.target) && !controls.contains(e.target)) {
                    controls.classList.remove('show');
                }
            });
        }
        
        getReadableContent() {
            const content = [];
            
            // Cada item do array corresponde a um elemento espec√≠fico
            content.push({ text: 'P√°gina: ' + document.title, element: null });
            content.push({ text: 'Site Quiz Connect', element: '.logo' });
            content.push({ text: 'Menu de navega√ß√£o com op√ß√µes: Turma e 3DS', element: 'nav' });
            content.push({ text: 'Se√ß√£o de cadastro', element: '.signup-container' });
            content.push({ text: 'T√≠tulo: Criar Conta', element: '.signup-container h2' });
            content.push({ text: 'Campo para inserir e-mail', element: '#email' });
            content.push({ text: 'Campo para inserir nome de usu√°rio', element: '#username' });
            content.push({ text: 'Campo para inserir senha', element: '#password' });
            content.push({ text: 'Campo para confirmar senha', element: '#confirm-password' });
            content.push({ text: 'Bot√£o cadastrar para criar uma nova conta', element: '.signup-button' });
            content.push({ text: 'Link para login: J√° tem uma conta? Fa√ßa login', element: '.login-link a' });
            content.push({ text: 'P√°gina desenvolvida com recursos de acessibilidade', element: null });
            content.push({ text: 'Use os controles de velocidade e volume para personalizar a leitura', element: null });
            
            return content;
        }
        
        toggleReading() {
            if (this.isReading) {
                this.stopReading();
            } else {
                this.startReading();
            }
        }
        
        startReading() {
            this.queue = this.getReadableContent();
            this.currentIndex = 0;
            this.isReading = true;
            this.isPaused = false;
            
            const btn = document.getElementById('accessibilityBtn');
            const controls = document.getElementById('accessibilityControls');
            
            btn.classList.add('active');
            btn.innerHTML = 'üîä';
            btn.title = 'Leitura ativa - Clique para parar';
            controls.classList.add('show');
            
            this.readNext();
        }
        
        readNext() {
            if (this.currentIndex >= this.queue.length) {
                this.stopReading();
                return;
            }
            
            const currentItem = this.queue[this.currentIndex];
            const text = currentItem.text;
            this.currentUtterance = new SpeechSynthesisUtterance(text);
            
            // Configura√ß√µes da voz
            if (this.voice) {
                this.currentUtterance.voice = this.voice;
            }
            this.currentUtterance.rate = this.speed;
            this.currentUtterance.volume = this.volume;
            this.currentUtterance.pitch = 1;
            this.currentUtterance.lang = 'pt-BR';
            
            // Destacar elemento ANTES de come√ßar a falar
            this.highlightCurrentElement();
            
            // Eventos
            this.currentUtterance.onend = () => {
                this.currentIndex++;
                if (this.isReading && !this.isPaused) {
                    setTimeout(() => this.readNext(), 500);
                }
            };
            
            this.currentUtterance.onerror = (e) => {
                console.warn('Erro na s√≠ntese de voz:', e);
                this.currentIndex++;
                if (this.isReading) {
                    this.readNext();
                }
            };
            
            this.synth.speak(this.currentUtterance);
        }
        
        highlightCurrentElement() {
            // Remove highlight anterior
            document.querySelectorAll('.reading-highlight').forEach(el => {
                el.classList.remove('reading-highlight');
            });
            
            // Pega o elemento atual baseado no seletor
            const currentItem = this.queue[this.currentIndex];
            if (currentItem && currentItem.element) {
                const element = document.querySelector(currentItem.element);
                if (element) {
                    element.classList.add('reading-highlight');
                    
                    // Rola a p√°gina para mostrar o elemento destacado
                    element.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                }
            }
        }
        
        togglePause() {
            const pauseBtn = document.getElementById('pauseBtn');
            const btn = document.getElementById('accessibilityBtn');
            
            if (this.isPaused) {
                this.synth.resume();
                this.isPaused = false;
                pauseBtn.innerHTML = '‚è∏Ô∏è Pausar';
                btn.classList.remove('paused');
                btn.classList.add('active');
            } else {
                this.synth.pause();
                this.isPaused = true;
                pauseBtn.innerHTML = '‚ñ∂Ô∏è Continuar';
                btn.classList.remove('active');
                btn.classList.add('paused');
            }
        }
        
        stopReading() {
            this.synth.cancel();
            this.isReading = false;
            this.isPaused = false;
            this.currentIndex = 0;
            
            const btn = document.getElementById('accessibilityBtn');
            const controls = document.getElementById('accessibilityControls');
            const pauseBtn = document.getElementById('pauseBtn');
            
            btn.classList.remove('active', 'paused');
            btn.innerHTML = 'üîä';
            btn.title = 'Ativar leitura de tela';
            controls.classList.remove('show');
            pauseBtn.innerHTML = '‚è∏Ô∏è Pausar';
            
            // Remove highlights
            document.querySelectorAll('.reading-highlight').forEach(el => {
                el.classList.remove('reading-highlight');
            });
        }
        
        skipCurrent() {
            if (this.isReading) {
                this.synth.cancel();
                this.currentIndex++;
                if (this.currentIndex < this.queue.length) {
                    setTimeout(() => this.readNext(), 200);
                } else {
                    this.stopReading();
                }
            }
        }
    }
    
    document.addEventListener("DOMContentLoaded", function () {
        // Inicializa o leitor de tela
        const screenReader = new ScreenReader();
        
        // Refer√™ncias aos elementos
        const signupForm = document.getElementById("signupForm");
        const emailInput = document.getElementById("email");
        const usernameInput = document.getElementById("username");
        const passwordInput = document.getElementById("password");
        const confirmPasswordInput = document.getElementById("confirm-password");
        const signupButton = document.querySelector(".signup-button");
        const togglePasswordBtn = document.getElementById("togglePassword");
        const toggleConfirmPasswordBtn = document.getElementById("toggleConfirmPassword");
        const menuToggle = document.querySelector(".menu-toggle");
        const mobileNav = document.querySelector(".mobile-nav");
        const robo = document.querySelector(".robo2");
        
        // Menu Mobile Toggle
        if (menuToggle && mobileNav) {
            menuToggle.addEventListener("click", function () {
                mobileNav.style.display = mobileNav.style.display === "block" ? "none" : "block";
            });
        }
        
        // Efeito de foco nos inputs
        const inputs = document.querySelectorAll(".input-box");
        
        inputs.forEach(input => {
            // Adiciona classe quando o input est√° em foco
            input.addEventListener("focus", function() {
                this.parentElement.classList.add("input-focused");
            });
            
            // Remove classe quando o foco sai do input, mas mant√©m se tiver valor
            input.addEventListener("blur", function() {
                if (this.value === "") {
                    this.parentElement.classList.remove("input-focused");
                }
            });
            
            // Verifica se o input j√° tem valor ao carregar a p√°gina
            if (input.value !== "") {
                input.parentElement.classList.add("input-focused");
            }
        });
        
        // Mostrar/Esconder senha
        if (togglePasswordBtn) {
            togglePasswordBtn.addEventListener("click", function() {
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    this.classList.add("showing-password");
                } else {
                    passwordInput.type = "password";
                    this.classList.remove("showing-password");
                }
            });
        }
        
        // Mostrar/Esconder confirma√ß√£o de senha
        if (toggleConfirmPasswordBtn) {
            toggleConfirmPasswordBtn.addEventListener("click", function() {
                if (confirmPasswordInput.type === "password") {
                    confirmPasswordInput.type = "text";
                    this.classList.add("showing-password");
                } else {
                    confirmPasswordInput.type = "password";
                    this.classList.remove("showing-password");
                }
            });
        }
        
        // Efeito no bot√£o de cadastro
        if (signupButton) {
            signupButton.addEventListener("mousemove", function(e) {
                const rect = this.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                this.style.setProperty("--x-pos", x + "px");
                this.style.setProperty("--y-pos", y + "px");
            });
        }
        
        // Anima√ß√£o adicional para o rob√¥
        if (robo) {
            robo.addEventListener("click", function() {
                this.classList.add("wave");
                setTimeout(() => {
                    this.classList.remove("wave");
                }, 1000);
            });
        }
        
        // Valida√ß√£o de formul√°rio com efeito visual
        if (signupForm) {
            signupForm.addEventListener("submit", function(event) {
                event.preventDefault();
                
                const email = emailInput.value.trim();
                const username = usernameInput.value.trim();
                const password = passwordInput.value;
                const confirmPassword = confirmPasswordInput.value;
                
                let isValid = true;
                
                // Limpar estados de erro anteriores
                document.querySelectorAll(".input-group").forEach(group => {
                    group.classList.remove("error");
                });
                
                // Valida√ß√µes com feedback visual
                if (!email) {
                    emailInput.parentElement.classList.add("error");
                    isValid = false;
                } else if (!/\S+@\S+\.\S+/.test(email)) {
                    emailInput.parentElement.classList.add("error");
                    isValid = false;
                }
                
                if (!username) {
                    usernameInput.parentElement.classList.add("error");
                    isValid = false;
                }
                
                if (!password) {
                    passwordInput.parentElement.classList.add("error");
                    isValid = false;
                } else if (password.length < 6) {
                    passwordInput.parentElement.classList.add("error");
                    isValid = false;
                }
                
                if (!confirmPassword) {
                    confirmPasswordInput.parentElement.classList.add("error");
                    isValid = false;
                } else if (password !== confirmPassword) {
                    confirmPasswordInput.parentElement.classList.add("error");
                    isValid = false;
                }
                
                if (isValid) {
                    // Adiciona classe de loading ao bot√£o
                    signupButton.classList.add("loading");
                    
                    // Simular processamento
                    setTimeout(() => {
                        signupButton.classList.remove("loading");
                        signupButton.classList.add("success");
                        
                        // Armazenar dados temporariamente (apenas para demonstra√ß√£o)
                        const userData = {
                            email: email,
                            username: username,
                            password: password
                        };
                        
                        localStorage.setItem('tempUserData', JSON.stringify(userData));
                        
                        // Redirecionar ap√≥s anima√ß√£o
                        setTimeout(() => {
                            window.location.href = "inicial.html";
                        }, 1000);
                    }, 1500);
                } else {
                    // Anima√ß√£o de shake nos campos com erro
                    document.querySelectorAll(".input-group.error").forEach(group => {
                        setTimeout(() => {
                            group.classList.remove("error");
                        }, 500);
                    });
                }
                
                return false;
            });
        }
    });
    </script>
</body>
</html>